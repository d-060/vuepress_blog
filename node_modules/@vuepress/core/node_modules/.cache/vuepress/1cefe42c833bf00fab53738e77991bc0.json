{"remainingRequest":"F:\\work\\vuepress_blog\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!F:\\work\\vuepress_blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\vuepress_blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\vuepress_blog\\node_modules\\vuepress-theme-meteorlxy\\lib\\components\\PostNavCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\vuepress_blog\\node_modules\\vuepress-theme-meteorlxy\\lib\\components\\PostNavCard.vue","mtime":1580188475380},{"path":"F:\\work\\vuepress_blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580188461812},{"path":"F:\\work\\vuepress_blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1580188461498},{"path":"F:\\work\\vuepress_blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580188461812},{"path":"F:\\work\\vuepress_blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1580188474821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuZml4ZWQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoLnRocm90dGxlJzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC5kZWJvdW5jZSc7CmltcG9ydCBJY29uIGZyb20gIi4vSWNvbi52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Bvc3ROYXZDYXJkJywKICBjb21wb25lbnRzOiB7CiAgICBJY29uOiBJY29uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gewogICAgICBmaXhlZDogZmFsc2UsCiAgICAgIHdpZHRoOiAwLAogICAgICBzY3JvbGxMaXN0ZW5lcjogdGhyb3R0bGUoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmZpeGVkID0gX3RoaXMuaW5mb0NhcmREb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIDwgX3RoaXMubmF2YmFySGVpZ2h0OwogICAgICB9LCAxMDApLAogICAgICByZXNpemVMaXN0ZW5lcjogZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLndpZHRoID0gX3RoaXMuZ2V0V2lkdGgoKTsKICAgICAgfSwgMTAwKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdHlsZTogZnVuY3Rpb24gc3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcG9zaXRpb246IHRoaXMuZml4ZWQgPyAnZml4ZWQnIDogJ3JlbGF0aXZlJywKICAgICAgICB0b3A6IHRoaXMuZml4ZWQgPyAiIi5jb25jYXQodGhpcy5uYXZiYXJIZWlnaHQsICJweCIpIDogMCwKICAgICAgICB3aWR0aDogIiIuY29uY2F0KHRoaXMud2lkdGgsICJweCIpCiAgICAgIH07CiAgICB9LAogICAgaW5mb0NhcmREb206IGZ1bmN0aW9uIGluZm9DYXJkRG9tKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcCAuaW5mby1jYXJkJyk7CiAgICB9LAogICAgbmF2YmFySGVpZ2h0OiBmdW5jdGlvbiBuYXZiYXJIZWlnaHQoKSB7CiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJykuY2xpZW50SGVpZ2h0OwogICAgfSwKICAgIHNob3dDb250ZW50czogZnVuY3Rpb24gc2hvd0NvbnRlbnRzKCkgewogICAgICByZXR1cm4gdGhpcy4kcGFnZS5oZWFkZXJzICYmIHRoaXMuJHBhZ2UuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24gKGgpIHsKICAgICAgICByZXR1cm4gaC5sZXZlbCA9PT0gMjsKICAgICAgfSkubGVuZ3RoID4gMDsKICAgIH0sCiAgICBzaG93Q29tbWVudHM6IGZ1bmN0aW9uIHNob3dDb21tZW50cygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHRoZW1lQ29uZmlnLmNvbW1lbnRzICE9PSBmYWxzZSAmJiB0aGlzLiRmcm9udG1hdHRlci52c3N1ZSAhPT0gZmFsc2UgJiYgKHRoaXMuJGZyb250bWF0dGVyWyd2c3N1ZS1pZCddIHx8IHRoaXMuJGZyb250bWF0dGVyWyd2c3N1ZS10aXRsZSddIHx8IHRoaXMuJGZyb250bWF0dGVyLnRpdGxlKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLndpZHRoID0gdGhpcy5nZXRXaWR0aCgpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsTGlzdGVuZXIpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplTGlzdGVuZXIpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbExpc3RlbmVyKTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZUxpc3RlbmVyKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFdpZHRoOiBmdW5jdGlvbiBnZXRXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5mb0NhcmREb20uY2xpZW50V2lkdGg7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PostNavCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,QAAA,MAAA,iBAAA;AACA,OAAA,QAAA,MAAA,iBAAA;AACA,OAAA,IAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAHA;AAOA,EAAA,IAPA,kBAOA;AAAA;;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,CAFA;AAGA,MAAA,cAAA,EAAA,QAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,WAAA,CAAA,qBAAA,GAAA,MAAA,GAAA,KAAA,CAAA,YAAA;AACA,OAFA,EAEA,GAFA,CAHA;AAMA,MAAA,cAAA,EAAA,QAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,QAAA,EAAA;AACA,OAFA,EAEA,GAFA;AANA,KAAA;AAUA,GAlBA;AAoBA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA;AACA,QAAA,QAAA,EAAA,KAAA,KAAA,GAAA,OAAA,GAAA,UADA;AAEA,QAAA,GAAA,EAAA,KAAA,KAAA,aAAA,KAAA,YAAA,UAAA,CAFA;AAGA,QAAA,KAAA,YAAA,KAAA,KAAA;AAHA,OAAA;AAKA,KAPA;AASA,IAAA,WATA,yBASA;AACA,aAAA,QAAA,CAAA,aAAA,CAAA,iBAAA,CAAA;AACA,KAXA;AAaA,IAAA,YAbA,0BAaA;AACA,aAAA,QAAA,CAAA,aAAA,CAAA,SAAA,EAAA,YAAA;AACA,KAfA;AAiBA,IAAA,YAjBA,0BAiBA;AACA,aAAA,KAAA,KAAA,CAAA,OAAA,IAAA,KAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,KAAA,KAAA,CAAA;AAAA,OAAA,EAAA,MAAA,GAAA,CAAA;AACA,KAnBA;AAqBA,IAAA,YArBA,0BAqBA;AACA,aAAA,KAAA,YAAA,CAAA,QAAA,KAAA,KAAA,IAAA,KAAA,YAAA,CAAA,KAAA,KAAA,KAAA,KACA,KAAA,YAAA,CAAA,UAAA,KAAA,KAAA,YAAA,CAAA,aAAA,CAAA,IAAA,KAAA,YAAA,CAAA,KADA,CAAA;AAGA;AAzBA,GApBA;AAgDA,EAAA,OAhDA,qBAgDA;AACA,SAAA,KAAA,GAAA,KAAA,QAAA,EAAA;AAEA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,cAAA;AACA,IAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,EAAA,KAAA,cAAA;AACA,GArDA;AAuDA,EAAA,aAvDA,2BAuDA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,cAAA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,QAAA,EAAA,KAAA,cAAA;AACA,GA1DA;AA4DA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,WAAA,CAAA,WAAA;AACA;AAHA;AA5DA,CAAA","sourcesContent":["<template>\r\n  <div\r\n    v-if=\"showContents || showComments\"\r\n    class=\"post-nav-card\"\r\n    :style=\"style\"\r\n  >\r\n    <div\r\n      v-if=\"showContents\"\r\n      class=\"post-nav-contents\"\r\n    >\r\n      <Icon name=\"book\" />\r\n\r\n      <span>{{ $themeConfig.lang.toc }}</span>\r\n\r\n      <TOC class=\"post-nav-toc\" />\r\n    </div>\r\n\r\n    <div\r\n      v-if=\"showComments\"\r\n      class=\"post-nav-comments\"\r\n    >\r\n      <Icon name=\"comment\" />\r\n\r\n      <RouterLink to=\"#post-comments\">\r\n        {{ $themeConfig.lang.comments }}\r\n      </RouterLink>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport throttle from 'lodash.throttle'\r\nimport debounce from 'lodash.debounce'\r\nimport Icon from './Icon.vue'\r\n\r\nexport default {\r\n  name: 'PostNavCard',\r\n\r\n  components: {\r\n    Icon,\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      fixed: false,\r\n      width: 0,\r\n      scrollListener: throttle(() => {\r\n        this.fixed = this.infoCardDom.getBoundingClientRect().bottom < this.navbarHeight\r\n      }, 100),\r\n      resizeListener: debounce(() => {\r\n        this.width = this.getWidth()\r\n      }, 100),\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    style () {\r\n      return {\r\n        position: this.fixed ? 'fixed' : 'relative',\r\n        top: this.fixed ? `${this.navbarHeight}px` : 0,\r\n        width: `${this.width}px`,\r\n      }\r\n    },\r\n\r\n    infoCardDom () {\r\n      return document.querySelector('#app .info-card')\r\n    },\r\n\r\n    navbarHeight () {\r\n      return document.querySelector('.navbar').clientHeight\r\n    },\r\n\r\n    showContents () {\r\n      return this.$page.headers && this.$page.headers.filter(h => h.level === 2).length > 0\r\n    },\r\n\r\n    showComments () {\r\n      return this.$themeConfig.comments !== false && this.$frontmatter.vssue !== false && (\r\n        this.$frontmatter['vssue-id'] || this.$frontmatter['vssue-title'] || this.$frontmatter.title\r\n      )\r\n    },\r\n  },\r\n\r\n  mounted () {\r\n    this.width = this.getWidth()\r\n\r\n    window.addEventListener('scroll', this.scrollListener)\r\n    window.addEventListener('resize', this.resizeListener)\r\n  },\r\n\r\n  beforeDestroy () {\r\n    window.removeEventListener('scroll', this.scrollListener)\r\n    window.removeEventListener('resize', this.resizeListener)\r\n  },\r\n\r\n  methods: {\r\n    getWidth () {\r\n      return this.infoCardDom.clientWidth\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n@require '~@theme/styles/variables'\r\n\r\n.post-nav-card\r\n  padding 1rem\r\n  color $grayTextColor\r\n  word-break break-all\r\n  line-height 160%\r\n  .icon\r\n    fill $grayTextColor\r\n  .post-nav-toc > ul\r\n    word-break normal\r\n    margin 0.5rem 0\r\n    padding-left 2rem\r\n    max-height calc(100vh - 16rem)\r\n    // separate overflow to be compatible with Safari\r\n    overflow-x hidden\r\n    overflow-y auto\r\n    scrollbar-width thin\r\n    &::-webkit-scrollbar\r\n      width 3px\r\n    &::-webkit-scrollbar-track\r\n      background-color $borderColor\r\n    &::-webkit-scrollbar-thumb\r\n      background-color $lightTextColor\r\n    ul\r\n      padding-left 0.8rem\r\n  .post-nav-comments a\r\n    color $grayTextColor\r\n    &:hover\r\n      text-decoration underline\r\n</style>\r\n"],"sourceRoot":"../node_modules/vuepress-theme-meteorlxy/lib/components"}]}